# tallerA-YC
# -*- coding: utf-8 -*-
"""Untitled0.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1VYpmYXsIArNsehnIVVtSIjDRK79CIfUU
"""

!pip install scikit-fuzzy

"""Brandon Geobanny Pantoja Belalcazar
220160002
"""

import numpy as np
import skfuzzy as fuzz
from skfuzzy import control as ctrl

#variables de entrada
#Cantidad de dinero ahorrado en el banco.cda

cda = ctrl.Antecedent(np.arange(0,550,1),'cda')
#El salario que gana el cliente.sgc
sgc = ctrl.Antecedent(np.arange(0,18,0.1),'sgc')

#variables de salida
#Probabilidad de ser un cliente preferencial.pcp

pcp = ctrl.Consequent(np.arange(0,101,1),'pcp')

#Funciones de membresia


cda['muy_poco'] = fuzz.trimf(cda.universe,[0,0,5])
cda['poco'] = fuzz.trimf(cda.universe,[2.5,20,32])
cda['normal'] = fuzz.trimf(cda.universe,[22,70,100])
cda['aceptable'] = fuzz.trimf(cda.universe,[90,170,250])
cda['muy_aceptable'] = fuzz.trapmf(cda.universe,[200,350,550,550])
cda.view()

#Salario que gana el cliente
sgc['poco'] = fuzz.trimf(sgc.universe,[0,0,1.5])
sgc['normal'] = fuzz.trimf(sgc.universe,[1,3,5])
sgc['aceptable'] = fuzz.trimf(sgc.universe,[3,6,10])
sgc['muy_aceptable'] = fuzz.trapmf(sgc.universe,[8,12,16,16])
sgc.view()

pcp['cero'] = fuzz.trimf(pcp.universe,[0,0,12])
pcp['bajo'] = fuzz.trimf(pcp.universe,[10,32,50])
pcp['normal'] = fuzz.trimf(pcp.universe,[45,60,75])
pcp['alto'] = fuzz.trimf(pcp.universe,[71,100,100,])
pcp.view()

#crear reglas difusas
regla11 = ctrl.Rule(sgc['poco'] & cda['muy_poco'],pcp['cero'])
regla12 = ctrl.Rule(sgc['poco'] & cda['poco'],pcp['cero'])
regla13 = ctrl.Rule(sgc['poco'] & cda['normal'],pcp['cero'])
regla14 = ctrl.Rule(sgc['poco'] & cda['aceptable'],pcp['bajo'])
regla15 = ctrl.Rule(sgc['poco'] & cda['muy_aceptable'],pcp['normal'])

regla21 = ctrl.Rule(sgc['normal'] & cda['muy_poco'],pcp['cero'])
regla22 = ctrl.Rule(sgc['normal'] & cda['poco'],pcp['cero'])
regla23 = ctrl.Rule(sgc['normal'] & cda['normal'],pcp['bajo'])
regla24 = ctrl.Rule(sgc['normal'] & cda['aceptable'],pcp['normal'])
regla25 = ctrl.Rule(sgc['normal'] & cda['muy_aceptable'],pcp['normal'])

regla31 = ctrl.Rule(sgc['aceptable'] & cda['muy_poco'],pcp['cero'])
regla32 = ctrl.Rule(sgc['aceptable'] & cda['poco'],pcp['normal'])
regla33 = ctrl.Rule(sgc['aceptable'] & cda['normal'],pcp['alto'])
regla34 = ctrl.Rule(sgc['aceptable'] & cda['aceptable'],pcp['alto'])
regla35 = ctrl.Rule(sgc['aceptable'] & cda['muy_aceptable'],pcp['alto'])

regla41 = ctrl.Rule(sgc['muy_aceptable'] & cda['muy_poco'],pcp['cero'])
regla42 = ctrl.Rule(sgc['muy_aceptable'] & cda['poco'],pcp['cero'])
regla43 = ctrl.Rule(sgc['muy_aceptable'] & cda['normal'],pcp['normal'])
regla44 = ctrl.Rule(sgc['muy_aceptable'] & cda['aceptable'],pcp['alto'])
regla45 = ctrl.Rule(sgc['muy_aceptable'] & cda['muy_aceptable'],pcp['alto'])

sistema_control = ctrl.ControlSystem(
    [
        regla11,
        regla12,
        regla13,
        regla14,
        regla15,
        regla21,
        regla22,
        regla23,
        regla24,
        regla25,
        regla31,
        regla32,
        regla33,
        regla34,
        regla35,
        regla41,
        regla42,
        regla43,
        regla44,
        regla45
    ]
)
controlador = ctrl.ControlSystemSimulation(sistema_control)

#Adriana debe tener una probabilidad de al menos 90% de ser preferencial, :ene 500 Millones ahorrados y :ene un salario de $15 Millones al mes.


controlador.input['sgc'] = 15

controlador.input['cda'] = 500

controlador.compute()

#resultado
pcp_calculado = controlador.output['pcp']
print(f"cliente preferencial es del: {pcp_calculado}%")

#Nelson debe tener una probabilidad alrededor de 60% de ser preferencial, :ene $30 millones ahorrados y un salario de $9 millones al mes.



controlador.input['sgc'] = 9
controlador.input['cda'] = 30

controlador.compute()

#resultado
pcp_calculado = controlador.output['pcp']
print(f" cliente preferencial es del: {pcp_calculado}%")

#Federico no debe sobrepasar una probabilidad de 20% de ser preferencial, :ene $40 millones ahorrados y un salario de $1.160.000 al mes.


controlador.input['sgc'] = 1.160

controlador.input['cda'] = 40

controlador.compute()

#resultado
pcp_calculado = controlador.output['pcp']
print(f" cliente preferencial es del: {pcp_calculado}%")

#Ver√≥nica debe estar alrededor de un 5% de ser preferencial, no :ene dinero ahorrado en el banco y su salario es de $1.500.000


controlador.input['sgc'] = 1.5

controlador.input['cda'] = 0

controlador.compute()

# resultado
pcp_calculado = controlador.output['pcp']
print(f"cliente preferencial es del: {pcp_calculado}%")
